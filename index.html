<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Communication avec Raspberry Pi</title>
</head>
<body>
    <h1>Communication avec Raspberry Pi</h1>
    <script src="https://cdn.jsdelivr.net/npm/node-ipc@9.1.1"></script>
    <script>
        const ipc = require('node-ipc');

        ipc.config.id = 'site-web';
        ipc.config.retry = 1500;

        ipc.connectTo('raspberry-pi', () => {
            ipc.of['raspberry-pi'].on('connect', () => {
                console.log('Connecté à la Raspberry Pi');
            });

            ipc.of['raspberry-pi'].on('disconnect', () => {
                console.log('Déconnecté de la Raspberry Pi');
            });

            // Modifier cette variable en fonction de votre besoin
            const nouvelleValeur = 42;

            // Envoyer la nouvelle valeur à la Raspberry Pi
            ipc.of['raspberry-pi'].emit('message', nouvelleValeur);
        });
    </script>
</body>
</html>
